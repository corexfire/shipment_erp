{{ template "dashboard_top" . }}

<div class="main-content-container overflow-hidden">
	<div class="d-flex justify-content-between align-items-center flex-wrap gap-3 mb-4">
		<div>
			<h3 class="mb-0">Packing List (PL)</h3>
			<p class="text-muted mb-0">Section 1 - Initial Documentation â€¢ Detailed product listing and packaging</p>
		</div>
		<div class="d-flex gap-2">
			<button class="btn btn-outline-secondary btn-sm" onclick="window.history.back()">
				<i class="ri-arrow-left-line me-1"></i>Back to Documents
			</button>
			<button class="btn btn-outline-primary btn-sm" onclick="printPackingList()">
				<i class="ri-printer-line me-1"></i>Print
			</button>
			<button class="btn btn-outline-success btn-sm" onclick="downloadExcel()">
				<i class="ri-file-excel-line me-1"></i>Download Excel
			</button>
			<button class="btn btn-primary btn-sm" onclick="sharePackingList()">
				<i class="ri-share-line me-1"></i>Share
			</button>
		</div>
	</div>

	<!-- Document Status -->
	<div class="row mb-4">
		<div class="col-xl-3 col-sm-6">
			<div class="card bg-white border-0 rounded-3 mb-4">
				<div class="card-body p-4">
					<div class="d-flex align-items-center">
						<div class="flex-shrink-0">
							<div class="wh-65 bg-success bg-opacity-10 text-success rounded-circle d-flex align-items-center justify-content-center">
								<i class="ri-check-double-line fs-24"></i>
							</div>
						</div>
						<div class="flex-grow-1 ms-3">
							<span class="fs-12 fw-medium text-secondary">Document Status</span>
							<h3 class="fs-20 mt-1 mb-0 text-success">Approved</h3>
							<span class="fs-12 text-success">Verified & Valid</span>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6">
			<div class="card bg-white border-0 rounded-3 mb-4">
				<div class="card-body p-4">
					<div class="d-flex align-items-center">
						<div class="flex-shrink-0">
							<div class="wh-65 bg-primary bg-opacity-10 text-primary rounded-circle d-flex align-items-center justify-content-center">
								<i class="ri-package-line fs-24"></i>
							</div>
						</div>
						<div class="flex-grow-1 ms-3">
							<span class="fs-12 fw-medium text-secondary">Total Packages</span>
							<h3 class="fs-20 mt-1 mb-0">500</h3>
							<span class="fs-12 text-muted">Fabric Rolls</span>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6">
			<div class="card bg-white border-0 rounded-3 mb-4">
				<div class="card-body p-4">
					<div class="d-flex align-items-center">
						<div class="flex-shrink-0">
							<div class="wh-65 bg-warning bg-opacity-10 text-warning rounded-circle d-flex align-items-center justify-content-center">
								<i class="ri-scales-line fs-24"></i>
							</div>
						</div>
						<div class="flex-grow-1 ms-3">
							<span class="fs-12 fw-medium text-secondary">Total Weight</span>
							<h3 class="fs-20 mt-1 mb-0">18,500</h3>
							<span class="fs-12 text-muted">KGS (Gross)</span>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6">
			<div class="card bg-white border-0 rounded-3 mb-4">
				<div class="card-body p-4">
					<div class="d-flex align-items-center">
						<div class="flex-shrink-0">
							<div class="wh-65 bg-info bg-opacity-10 text-info rounded-circle d-flex align-items-center justify-content-center">
								<i class="ri-cube-line fs-24"></i>
							</div>
						</div>
						<div class="flex-grow-1 ms-3">
							<span class="fs-12 fw-medium text-secondary">Total Volume</span>
							<h3 class="fs-20 mt-1 mb-0">37.5</h3>
							<span class="fs-12 text-muted">CBM</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Packing List Document -->
	<div class="card bg-white border-0 rounded-3 mb-4">
		<div class="card-body p-0">
			<div class="packing-list-container p-5" id="packingListContent">
				<!-- Header -->
				<div class="row mb-5">
					<div class="col-md-6">
						<div class="company-info">
							<h2 class="text-primary mb-3">PACKING LIST</h2>
							<div class="mb-3">
								<h5 class="mb-2">Shanghai Textile Manufacturing Co., Ltd.</h5>
								<p class="text-muted mb-1">No. 888 Huaihai Middle Road</p>
								<p class="text-muted mb-1">Xuhui District, Shanghai 200031</p>
								<p class="text-muted mb-1">People's Republic of China</p>
								<p class="text-muted mb-1">Tel: +86-21-6431-8888</p>
								<p class="text-muted mb-0">Email: export@shanghaitextile.com</p>
							</div>
						</div>
					</div>
					<div class="col-md-6 text-end">
						<div class="packing-details">
							<table class="table table-borderless">
								<tr>
									<td class="text-end fw-medium">Packing List No:</td>
									<td class="text-end"><strong>PL-2024-001-STM</strong></td>
								</tr>
								<tr>
									<td class="text-end fw-medium">Date:</td>
									<td class="text-end">January 15, 2024</td>
								</tr>
								<tr>
									<td class="text-end fw-medium">Invoice Reference:</td>
									<td class="text-end">CI-2024-001-STM</td>
								</tr>
								<tr>
									<td class="text-end fw-medium">Order Reference:</td>
									<td class="text-end">ORD-2024-001</td>
								</tr>
								<tr>
									<td class="text-end fw-medium">Container No:</td>
									<td class="text-end">COSU1234567</td>
								</tr>
							</table>
						</div>
					</div>
				</div>

				<!-- Buyer and Consignee Information -->
				<div class="row mb-4">
					<div class="col-md-6">
						<div class="buyer-info">
							<h6 class="text-primary mb-3">CONSIGNED TO:</h6>
							<div class="bg-light p-3 rounded">
								<h6 class="mb-2">PT. Maju Jaya</h6>
								<p class="mb-1">Jl. Sudirman No. 123</p>
								<p class="mb-1">Jakarta Pusat 10220</p>
								<p class="mb-1">Indonesia</p>
								<p class="mb-1">Tel: +62-21-5555-1234</p>
								<p class="mb-0">Contact: Mr. Budi Santoso</p>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="shipping-info">
							<h6 class="text-primary mb-3">SHIPPING INFORMATION:</h6>
							<div class="bg-light p-3 rounded">
								<table class="table table-sm table-borderless mb-0">
									<tr>
										<td class="fw-medium">Port of Loading:</td>
										<td>Shanghai, China</td>
									</tr>
									<tr>
										<td class="fw-medium">Port of Discharge:</td>
										<td>Tanjung Priok, Jakarta</td>
									</tr>
									<tr>
										<td class="fw-medium">Vessel:</td>
										<td>MV COSCO SHANGHAI</td>
									</tr>
									<tr>
										<td class="fw-medium">Sailing Date:</td>
										<td>January 20, 2024</td>
									</tr>
									<tr>
										<td class="fw-medium">Marks & Numbers:</td>
										<td>MJ-2024-001</td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>

				<!-- Container Summary -->
				<div class="mb-4">
					<h6 class="text-primary mb-3">CONTAINER SUMMARY:</h6>
					<div class="table-responsive">
						<table class="table table-bordered">
							<thead class="table-light">
								<tr>
									<th>Container No.</th>
									<th>Container Type</th>
									<th>Seal No.</th>
									<th>Total Packages</th>
									<th>Gross Weight (KGS)</th>
									<th>Net Weight (KGS)</th>
									<th>Volume (CBM)</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td class="fw-medium">COSU1234567</td>
									<td>20' FCL</td>
									<td>SH240115001</td>
									<td class="text-center">500 Rolls</td>
									<td class="text-end">18,500.00</td>
									<td class="text-end">17,200.00</td>
									<td class="text-end">37.50</td>
								</tr>
							</tbody>
							<tfoot class="table-light">
								<tr class="fw-bold">
									<td colspan="3">TOTAL:</td>
									<td class="text-center">500 Rolls</td>
									<td class="text-end">18,500.00 KGS</td>
									<td class="text-end">17,200.00 KGS</td>
									<td class="text-end">37.50 CBM</td>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>

				<!-- Detailed Packing List -->
				<div class="mb-4">
					<h6 class="text-primary mb-3">DETAILED PACKING LIST:</h6>
					<div class="table-responsive">
						<table class="table table-bordered">
							<thead class="table-light">
								<tr>
									<th width="5%">Item</th>
									<th width="25%">Description</th>
									<th width="10%">Package Type</th>
									<th width="8%">Quantity</th>
									<th width="12%">Dimensions (cm)</th>
									<th width="10%">Gross Weight (KGS)</th>
									<th width="10%">Net Weight (KGS)</th>
									<th width="10%">Volume (CBM)</th>
									<th width="10%">Package Nos.</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td class="text-center fw-medium">1</td>
									<td>
										<strong>Premium Cotton Fabric</strong><br>
										<small class="text-muted">100% Cotton, Plain Weave<br>
										Width: 150cm, Weight: 200gsm<br>
										Color: Natural White<br>
										Brand: Shanghai Premium</small>
									</td>
									<td class="text-center">Fabric Roll</td>
									<td class="text-center">300</td>
									<td class="text-center">150 x 50 x 15</td>
									<td class="text-end">11,100.00</td>
									<td class="text-end">10,320.00</td>
									<td class="text-end">22.50</td>
									<td class="text-center">001-300</td>
								</tr>
								<tr>
									<td class="text-center fw-medium">2</td>
									<td>
										<strong>Organic Cotton Fabric</strong><br>
										<small class="text-muted">100% Organic Cotton, Twill Weave<br>
										Width: 150cm, Weight: 220gsm<br>
										Color: Cream<br>
										Brand: Shanghai Organic</small>
									</td>
									<td class="text-center">Fabric Roll</td>
									<td class="text-center">150</td>
									<td class="text-center">150 x 50 x 16</td>
									<td class="text-end">5,550.00</td>
									<td class="text-end">5,160.00</td>
									<td class="text-end">11.25</td>
									<td class="text-center">301-450</td>
								</tr>
								<tr>
									<td class="text-center fw-medium">3</td>
									<td>
										<strong>Cotton Blend Fabric</strong><br>
										<small class="text-muted">80% Cotton, 20% Polyester<br>
										Width: 150cm, Weight: 180gsm<br>
										Color: Light Blue<br>
										Brand: Shanghai Blend</small>
									</td>
									<td class="text-center">Fabric Roll</td>
									<td class="text-center">50</td>
									<td class="text-center">150 x 50 x 14</td>
									<td class="text-end">1,850.00</td>
									<td class="text-end">1,720.00</td>
									<td class="text-end">3.75</td>
									<td class="text-center">451-500</td>
								</tr>
							</tbody>
							<tfoot class="table-primary">
								<tr class="fw-bold">
									<td colspan="3" class="text-end">GRAND TOTAL:</td>
									<td class="text-center">500</td>
									<td class="text-center">-</td>
									<td class="text-end">18,500.00</td>
									<td class="text-end">17,200.00</td>
									<td class="text-end">37.50</td>
									<td class="text-center">001-500</td>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>

				<!-- Package Details by Carton -->
				<div class="mb-4">
					<h6 class="text-primary mb-3">PACKAGE BREAKDOWN BY CARTON:</h6>
					<div class="row">
						<div class="col-md-4">
							<div class="card border">
								<div class="card-header bg-light">
									<h6 class="mb-0">Cartons 001-300</h6>
									<small class="text-muted">Premium Cotton Fabric</small>
								</div>
								<div class="card-body p-3">
									<table class="table table-sm table-borderless mb-0">
										<tr>
											<td>Quantity:</td>
											<td class="text-end fw-medium">300 Rolls</td>
										</tr>
										<tr>
											<td>Gross Weight:</td>
											<td class="text-end fw-medium">11,100 KGS</td>
										</tr>
										<tr>
											<td>Net Weight:</td>
											<td class="text-end fw-medium">10,320 KGS</td>
										</tr>
										<tr>
											<td>Volume:</td>
											<td class="text-end fw-medium">22.50 CBM</td>
										</tr>
										<tr>
											<td>Dimensions:</td>
											<td class="text-end fw-medium">150x50x15 cm</td>
										</tr>
									</table>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="card border">
								<div class="card-header bg-light">
									<h6 class="mb-0">Cartons 301-450</h6>
									<small class="text-muted">Organic Cotton Fabric</small>
								</div>
								<div class="card-body p-3">
									<table class="table table-sm table-borderless mb-0">
										<tr>
											<td>Quantity:</td>
											<td class="text-end fw-medium">150 Rolls</td>
										</tr>
										<tr>
											<td>Gross Weight:</td>
											<td class="text-end fw-medium">5,550 KGS</td>
										</tr>
										<tr>
											<td>Net Weight:</td>
											<td class="text-end fw-medium">5,160 KGS</td>
										</tr>
										<tr>
											<td>Volume:</td>
											<td class="text-end fw-medium">11.25 CBM</td>
										</tr>
										<tr>
											<td>Dimensions:</td>
											<td class="text-end fw-medium">150x50x16 cm</td>
										</tr>
									</table>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="card border">
								<div class="card-header bg-light">
									<h6 class="mb-0">Cartons 451-500</h6>
									<small class="text-muted">Cotton Blend Fabric</small>
								</div>
								<div class="card-body p-3">
									<table class="table table-sm table-borderless mb-0">
										<tr>
											<td>Quantity:</td>
											<td class="text-end fw-medium">50 Rolls</td>
										</tr>
										<tr>
											<td>Gross Weight:</td>
											<td class="text-end fw-medium">1,850 KGS</td>
										</tr>
										<tr>
											<td>Net Weight:</td>
											<td class="text-end fw-medium">1,720 KGS</td>
										</tr>
										<tr>
											<td>Volume:</td>
											<td class="text-end fw-medium">3.75 CBM</td>
										</tr>
										<tr>
											<td>Dimensions:</td>
											<td class="text-end fw-medium">150x50x14 cm</td>
										</tr>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Packaging Specifications -->
				<div class="row mb-4">
					<div class="col-md-6">
						<div class="packaging-specs">
							<h6 class="text-primary mb-3">PACKAGING SPECIFICATIONS:</h6>
							<div class="bg-light p-3 rounded">
								<ul class="list-unstyled mb-0">
									<li class="mb-2"><i class="ri-check-line text-success me-2"></i><strong>Material:</strong> High-quality fabric rolls</li>
									<li class="mb-2"><i class="ri-check-line text-success me-2"></i><strong>Wrapping:</strong> Plastic film protection</li>
									<li class="mb-2"><i class="ri-check-line text-success me-2"></i><strong>Core:</strong> Cardboard tube core</li>
									<li class="mb-2"><i class="ri-check-line text-success me-2"></i><strong>Labeling:</strong> Individual roll labels</li>
									<li class="mb-2"><i class="ri-check-line text-success me-2"></i><strong>Moisture Protection:</strong> Desiccant packets included</li>
									<li class="mb-0"><i class="ri-check-line text-success me-2"></i><strong>Handling:</strong> Fragile - Handle with care</li>
								</ul>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="special-instructions">
							<h6 class="text-primary mb-3">SPECIAL HANDLING INSTRUCTIONS:</h6>
							<div class="bg-warning bg-opacity-10 p-3 rounded border-start border-warning border-4">
								<ul class="list-unstyled mb-0">
									<li class="mb-2"><i class="ri-alert-line text-warning me-2"></i>Keep dry and away from moisture</li>
									<li class="mb-2"><i class="ri-alert-line text-warning me-2"></i>Store in upright position</li>
									<li class="mb-2"><i class="ri-alert-line text-warning me-2"></i>Avoid direct sunlight exposure</li>
									<li class="mb-2"><i class="ri-alert-line text-warning me-2"></i>Temperature: 15-25Â°C</li>
									<li class="mb-2"><i class="ri-alert-line text-warning me-2"></i>Humidity: Below 60%</li>
									<li class="mb-0"><i class="ri-alert-line text-warning me-2"></i>Handle with textile-safe equipment</li>
								</ul>
							</div>
						</div>
					</div>
				</div>

				<!-- Marks and Numbers -->
				<div class="mb-4">
					<h6 class="text-primary mb-3">MARKS AND NUMBERS:</h6>
					<div class="row">
						<div class="col-md-6">
							<div class="marks-info bg-light p-4 rounded text-center">
								<h5 class="text-primary mb-3">SHIPPING MARKS</h5>
								<div class="border border-2 border-primary p-3 d-inline-block">
									<p class="mb-1 fw-bold">PT. MAJU JAYA</p>
									<p class="mb-1">JAKARTA, INDONESIA</p>
									<p class="mb-1">ORDER: ORD-2024-001</p>
									<p class="mb-1">CONTAINER: COSU1234567</p>
									<p class="mb-1">MADE IN CHINA</p>
									<p class="mb-0 fw-bold">MJ-2024-001</p>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="handling-symbols bg-light p-4 rounded">
								<h6 class="text-primary mb-3">HANDLING SYMBOLS:</h6>
								<div class="row text-center">
									<div class="col-4 mb-3">
										<div class="symbol-box border rounded p-2">
											<i class="ri-drop-line fs-24 text-info"></i>
											<small class="d-block mt-1">Keep Dry</small>
										</div>
									</div>
									<div class="col-4 mb-3">
										<div class="symbol-box border rounded p-2">
											<i class="ri-arrow-up-line fs-24 text-success"></i>
											<small class="d-block mt-1">This Way Up</small>
										</div>
									</div>
									<div class="col-4 mb-3">
										<div class="symbol-box border rounded p-2">
											<i class="ri-heart-pulse-line fs-24 text-danger"></i>
											<small class="d-block mt-1">Fragile</small>
										</div>
									</div>
									<div class="col-4 mb-3">
										<div class="symbol-box border rounded p-2">
											<i class="ri-sun-line fs-24 text-warning"></i>
											<small class="d-block mt-1">No Direct Sun</small>
										</div>
									</div>
									<div class="col-4 mb-3">
										<div class="symbol-box border rounded p-2">
											<i class="ri-stack-line fs-24 text-primary"></i>
											<small class="d-block mt-1">Stack Limit: 3</small>
										</div>
									</div>
									<div class="col-4 mb-3">
										<div class="symbol-box border rounded p-2">
											<i class="ri-thermometer-line fs-24 text-info"></i>
											<small class="d-block mt-1">Temp Control</small>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Declaration and Signature -->
				<div class="row">
					<div class="col-md-6">
						<div class="declaration">
							<h6 class="text-primary mb-3">DECLARATION:</h6>
							<div class="bg-info bg-opacity-10 p-3 rounded border-start border-info border-4">
								<p class="mb-2">We hereby certify that the above packing list is true and correct in all respects and that the goods are properly packed and marked as described.</p>
								<p class="mb-0">All packages have been inspected and are in good condition for shipment.</p>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="signature-section">
							<h6 class="text-primary mb-3">AUTHORIZED BY:</h6>
							<div class="signature-box border rounded p-4 text-center bg-light" style="min-height: 120px;">
								<div class="mt-3">
									<p class="mb-1"><strong>Li Ming</strong></p>
									<p class="mb-1">Warehouse Manager</p>
									<p class="mb-1">Shanghai Textile Manufacturing Co., Ltd.</p>
									<p class="mb-0 text-muted">Date: January 15, 2024</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Document Actions -->
	<div class="row">
		<div class="col-lg-8">
			<div class="card bg-white border-0 rounded-3 mb-4">
				<div class="card-header bg-transparent border-bottom p-4">
					<h5 class="mb-0">
						<i class="ri-history-line me-2 text-primary"></i>Document History
					</h5>
				</div>
				<div class="card-body p-4">
					<div class="timeline">
						<div class="timeline-item">
							<div class="timeline-marker bg-success"></div>
							<div class="timeline-content">
								<h6 class="mb-1">Document Approved</h6>
								<p class="text-muted mb-1">Packing List has been verified and approved by quality control</p>
								<small class="text-muted">January 16, 2024 - 3:15 PM</small>
							</div>
						</div>
						<div class="timeline-item">
							<div class="timeline-marker bg-info"></div>
							<div class="timeline-content">
								<h6 class="mb-1">Quality Check Completed</h6>
								<p class="text-muted mb-1">All packages inspected and verified against specifications</p>
								<small class="text-muted">January 16, 2024 - 1:30 PM</small>
							</div>
						</div>
						<div class="timeline-item">
							<div class="timeline-marker bg-warning"></div>
							<div class="timeline-content">
								<h6 class="mb-1">Packing Completed</h6>
								<p class="text-muted mb-1">All 500 rolls packed and ready for container loading</p>
								<small class="text-muted">January 15, 2024 - 6:00 PM</small>
							</div>
						</div>
						<div class="timeline-item">
							<div class="timeline-marker bg-primary"></div>
							<div class="timeline-content">
								<h6 class="mb-1">Packing Started</h6>
								<p class="text-muted mb-1">Warehouse team began packing process</p>
								<small class="text-muted">January 15, 2024 - 8:00 AM</small>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-4">
			<div class="card bg-white border-0 rounded-3 mb-4">
				<div class="card-header bg-transparent border-bottom p-4">
					<h5 class="mb-0">
						<i class="ri-information-line me-2 text-primary"></i>Document Info
					</h5>
				</div>
				<div class="card-body p-4">
					<div class="d-flex flex-column gap-3">
						<div class="d-flex justify-content-between">
							<span class="text-muted">File Name:</span>
							<span class="fw-medium">PL-2024-001-STM.xlsx</span>
						</div>
						<div class="d-flex justify-content-between">
							<span class="text-muted">File Size:</span>
							<span class="fw-medium">1.8 MB</span>
						</div>
						<div class="d-flex justify-content-between">
							<span class="text-muted">Created:</span>
							<span class="fw-medium">Jan 15, 2024</span>
						</div>
						<div class="d-flex justify-content-between">
							<span class="text-muted">Last Modified:</span>
							<span class="fw-medium">Jan 16, 2024</span>
						</div>
						<div class="d-flex justify-content-between">
							<span class="text-muted">Version:</span>
							<span class="fw-medium">2.0</span>
						</div>
						<div class="d-flex justify-content-between">
							<span class="text-muted">Format:</span>
							<span class="fw-medium">Excel (.xlsx)</span>
						</div>
					</div>
				</div>
			</div>

			<!-- Quick Actions -->
			<div class="card bg-success bg-opacity-10 border-0 rounded-3">
				<div class="card-body p-4">
					<h6 class="text-success mb-3">
						<i class="ri-tools-line me-2"></i>Quick Actions
					</h6>
					<div class="d-grid gap-2">
						<button class="btn btn-outline-success btn-sm" onclick="editPackingList()">
							<i class="ri-edit-line me-1"></i>Edit Packing List
						</button>
						<button class="btn btn-outline-primary btn-sm" onclick="generateLabels()">
							<i class="ri-qr-code-line me-1"></i>Generate Labels
						</button>
						<button class="btn btn-outline-info btn-sm" onclick="validatePackaging()">
							<i class="ri-shield-check-line me-1"></i>Validate Packaging
						</button>
						<button class="btn btn-outline-warning btn-sm" onclick="requestInspection()">
							<i class="ri-search-eye-line me-1"></i>Request Inspection
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
// Document Actions
function printPackingList() {
	const printContent = document.getElementById('packingListContent').innerHTML;
	const originalContent = document.body.innerHTML;
	
	document.body.innerHTML = `
		<div style="padding: 20px;">
			${printContent}
		</div>
	`;
	
	window.print();
	document.body.innerHTML = originalContent;
	location.reload();
}

function downloadExcel() {
	showSuccessToast('Packing List Excel file downloaded successfully.');
}

function sharePackingList() {
	if (navigator.share) {
		navigator.share({
			title: 'Packing List PL-2024-001-STM',
			text: 'Packing List for Order ORD-2024-001 - PT. Maju Jaya',
			url: window.location.href
		});
	} else {
		navigator.clipboard.writeText(window.location.href).then(() => {
			showSuccessToast('Packing List link copied to clipboard!');
		});
	}
}

function editPackingList() {
	if (confirm('Edit this Packing List? This will create a new version.')) {
		showSuccessToast('Redirecting to packing list editor...');
	}
}

function generateLabels() {
	if (confirm('Generate shipping labels for all 500 packages?')) {
		showSuccessToast('Shipping labels generated successfully. Ready for printing.');
	}
}

function validatePackaging() {
	showSuccessToast('Packaging validation completed. All packages meet specifications.');
}

function requestInspection() {
	const inspectionType = prompt('Request inspection type:\n1. Quality Control\n2. Customs Pre-inspection\n3. Third-party Inspection\n\nEnter number (1-3):');
	
	if (inspectionType && ['1', '2', '3'].includes(inspectionType)) {
		const types = {
			'1': 'Quality Control',
			'2': 'Customs Pre-inspection',
			'3': 'Third-party Inspection'
		};
		showSuccessToast(`${types[inspectionType]} inspection requested. Inspector will be notified.`);
	}
}

// Utility Functions
function showSuccessToast(message) {
	const toast = document.createElement('div');
	toast.className = 'toast align-items-center text-white bg-success border-0 position-fixed top-0 end-0 m-3';
	toast.style.zIndex = '9999';
	toast.innerHTML = `
		<div class="d-flex">
			<div class="toast-body">${message}</div>
			<button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
		</div>
	`;
	document.body.appendChild(toast);
	const bsToast = new bootstrap.Toast(toast);
	bsToast.show();
	
	toast.addEventListener('hidden.bs.toast', () => {
		document.body.removeChild(toast);
	});
}

// Print styles
const printStyles = `
<style>
@media print {
	body * { visibility: hidden; }
	.packing-list-container, .packing-list-container * { visibility: visible; }
	.packing-list-container { position: absolute; left: 0; top: 0; width: 100%; }
	.btn, .card-header, .timeline { display: none !important; }
	.table { font-size: 11px; }
	.company-info h2 { color: #0d6efd !important; }
	.text-primary { color: #0d6efd !important; }
	.bg-light { background-color: #f8f9fa !important; }
	.border { border: 1px solid #dee2e6 !important; }
	.symbol-box { font-size: 10px; }
}
</style>
`;

document.head.insertAdjacentHTML('beforeend', printStyles);
</script>

<style>
.packing-list-container {
	font-family: 'Arial', sans-serif;
	line-height: 1.6;
}

.timeline {
	position: relative;
	padding-left: 30px;
}

.timeline::before {
	content: '';
	position: absolute;
	left: 15px;
	top: 0;
	bottom: 0;
	width: 2px;
	background: #e9ecef;
}

.timeline-item {
	position: relative;
	margin-bottom: 30px;
}

.timeline-marker {
	position: absolute;
	left: -22px;
	top: 5px;
	width: 12px;
	height: 12px;
	border-radius: 50%;
	border: 2px solid #fff;
	box-shadow: 0 0 0 2px #e9ecef;
}

.timeline-content h6 {
	margin-bottom: 5px;
	color: #495057;
}

.symbol-box {
	transition: all 0.3s ease;
}

.symbol-box:hover {
	background-color: #f8f9fa;
	transform: translateY(-2px);
}

.signature-box {
	background-color: #fafafa;
}

@media print {
	.card, .btn, .timeline { display: none !important; }
	.packing-list-container { box-shadow: none !important; }
}
</style>

{{ template "dashboard_bottom" . }}